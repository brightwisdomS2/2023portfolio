<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <title>회원가입</title>
    <!-- JS -->
    <script src="../js/jquery-3.5.1.min.js"></script>
    <!-- Custom JS & CSS -->
    <link rel="stylesheet" href="../css/common/reset.css">
    <link rel="stylesheet" href="../css/common/header.css">
    <link rel="stylesheet" href="../css/common/footer.css">
    <link rel="stylesheet" href="../css/join.css">

    <script>
        $(document).ready(function () {
            //헤더 가져오기
            $('.header-include').load(
                'http://brightwisdoms2.dothome.co.kr/portfolio/website-works/osulloc/html/common/header.html'
                )
            //푸터 가져오기
            $('.footer-include').load(
                'http://brightwisdoms2.dothome.co.kr/portfolio/website-works/osulloc/html/common/footer.html'
                )
        })
    </script>
</head>

<body>
    <!-- 헤더 영역 -->
    <div class="header-include"></div>
    <!-- 컨텐츠 영역 -->
    <div class="contents">
        <div class="inner-con">
            <!-- 회원가입 -->
            <div class="join">
                <div class="inner-join">
                    <div class="join-title">
                        <div class="title">
                            <div class="t-title">
                                <b class="point">
                                    오설록
                                </b>
                                회원가입을 환영합니다!
                            </div>
                        </div>
                        <p>오설록 멤버십 서비스에 가입하시면 온/오프 매장에서 상품을 구매 할 때마다 현금처럼 사용할 수 있는 포인트 적립과 사용 등 다양한 혜택을 받으실 수 있습니다.</p>
                    </div>
                    <!-- 회원가입 폼 -->
                    <div class="join-form">
                        <form action="joinOk.do" method="post" name="joinForm" id="joinForm">
                            <ul>
                                <li>
                                    <label for="userName"></label>
                                    <input type="text" name="userName" id="userName" placeholder="이름(실명으로 입력해주세요)">
                                </li>
                                <li>
                                    <label for="birth"></label>
                                    <input type="text" name="birth" id="birth" placeholder="생년월일8자리 (ex.19960909)"
                                        maxlength="8">
                                </li>
                                <li>
                                    <ul>
                                        <li class="telecom">
                                            <label for="telecom"></label>
                                            <select name="telecom" id="telecom">
                                                <option value="">통신사 선택</option>
                                                <option value="SKT">SKT</option>
                                                <option value="KT">KT</option>
                                                <option value="LG U+">LG U+</option>
                                                <option value="SKT 알뜰폰">SKT 알뜰폰</option>
                                                <option value="KT 알뜰폰">KT 알뜰폰</option>
                                                <option value="LG U+ 알뜰폰">LG U+ 알뜰폰</option>
                                            </select>
                                        </li>
                                        <li class="phoneNumber">
                                            <label for="phoneNumber"></label>
                                            <input type="text" name="phoneNumber" id="phoneNumber"
                                                placeholder="전화번호 입력 (ex.01098814802)" maxlength="11">
                                        </li>
                                    </ul>
                                </li>
                                <li>
                                    <label for="userId"></label>
                                    <input type="text" name="userId" id="userId" placeholder="아이디 (4~12자)"
                                        maxlength="12">
                                </li>
                                <li>
                                    <label for="userPw"></label>
                                    <input type="password" name="userPw" id="userPw" placeholder="비밀번호 (6~16자)"
                                        maxlength="16" autoComplete="off">
                                </li>
                                <li>
                                    <label for="userPwRe"></label>
                                    <input type="password" name="userPwRe" id="userPwRe" placeholder="비밀번호 확인"
                                        autoComplete="off">
                                    <span class="pwCheck"></span>
                                </li>
                                <li>
                                    <!-- 클릭하면 모든 약관 동의 함수 실행 -->
                                    <input type="checkbox" name="allCorrect" id="allCorrect" onclick="check_all()">
                                    <label for="allCorrect"><span></span>모든 약관 동의</label>

                                </li>
                            </ul>
                            <p>아래 모든 약관 (필수/선택 포함) 및 광고성 정보수신 동의 내용을 확인하고 전체 동의합니다. ※ 선택 항목에 대한 동의를 거부하더라도 회원가입에 영향을 미치지
                                않습니다</p>
                            <div class="agree terms">
                                <h3 class="title">
                                    아모레퍼시픽 통합 멤버십 뷰티포인트 회원약관</h3>
                                <ul>
                                    <li>
                                        <input type="checkbox" name="agree" id="agree1">
                                        <label for="agree1"><span></span>[필수] 뷰티포인트 서비스 이용약관</label>
                                    </li>
                                    <li>
                                        <input type="checkbox" name="agree" id="agree2">
                                        <label for="agree2"><span></span>[필수] 개인정보 이용 및 수집에 대한 동의</label>
                                    </li>
                                    <li>
                                        <input type="checkbox" name="agree" id="agree3">
                                        <label for="agree3"><span></span>[선택] 개인정보 제3자 제공 동의 ※ 외부 컨텐츠 마케팅 활용</label>
                                    </li>
                                    <li>
                                        <input type="checkbox" name="agree" id="agree4">
                                        <label for="agree4"><span></span>[선택] 국외이전동의</label>

                                    </li>
                                </ul>
                            </div>
                            <div class="agree ad">
                                <h3 class="title">광고성 정보 수신 동의쇼핑 혜택, 이벤트 소식을 받아보세요</h3>
                                <ul>
                                    <li>
                                        <input type="checkbox" name="agree" id="agree5">
                                        <label for="agree5"><span></span>[선택] 뷰티포인트 문자 수신 동의</label>
                                    </li>
                                    <li>
                                        <input type="checkbox" name="agree" id="agree6">
                                        <label for="agree6"><span></span>[선택] 온라인 사이트 문자 수신 동의</label>
                                    </li>
                                </ul>
                            </div>
                            <div class="go-join">
                                <label for="joinOk"></label>
                                <input type="button" value="본인인증 및 회원가입" id="joinOk">
                                <!--input type="submit" 으로 하면 바로 서버(흰 화면)로 넘어가기 때문에
                                input type="button" or button type="button"으로 해준다-->
                            </div>
                        </form>
                    </div>
                    <div class="join-foreigner">
                        <div class="go-forJoin">
                            <a href="#">
                                <span class="forJoin-t">외국인 회원가입
                                </span>
                                <span class="go-icon">
                                </span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 푸터 영역 -->
    <div class="footer-include"></div>

    <script>
        //모든 약관 동의
        var checkIdx = 0;
        var userAgree = document.getElementsByName('agree');

        function check_all() {
            //모든 약관 동의 누르면 호출
            if (checkIdx == 0) {
                //체크되지 않았을 때 누르면 아래 동의 버튼들 checked = true
                for (i = 0; i < userAgree.length; i++) {
                    userAgree[i].checked = true;
                }
                //checkIdx == 1이 됨
                checkIdx++;
            } else if (checkIdx == 1) {
                //체크된 상태일 때 누르면 아래 동의 버튼들 checked = false
                for (i = 0; i < userAgree.length; i++) {
                    userAgree[i].checked = false;
                }
                //checkIdx = 0으로 초기화
                checkIdx = 0;
            }
        }


        var userPw = document.getElementsByName('userPw')[0];
        var userPwRe = document.getElementsByName('userPwRe')[0];
        userPwRe.addEventListener('keyup', pwCheckedFunc);
        var pwCheck = document.querySelector('span.pwCheck');

        function pwCheckedFunc() {
            //비밀번호 확인
            if (userPw.value != userPwRe.value || userPwRe.value == "" || userPwRe.value == null) {
                //두 값의 value가 같지 않고, 비어 있거나, 값이 null일 때
                pwCheck.textContent = "비밀번호가 일치하지 않습니다.";
                pwCheck.style.color = "#f00";
            } else {
                //두 값의 value가 같을 때, 비어있지 않고, 값이 null이 아닐 때
                pwCheck.textContent = "비밀번호가 일치합니다.";
                pwCheck.style.color = "#00f"
            }
        }

        let joinOk = document.querySelector('#joinOk');
        joinOk.addEventListener('click', joinOkFunc);
        //예외처리
        function joinOkFunc() {
            var userName = document.getElementsByName('userName')[0];
            var birth = document.getElementsByName('birth')[0];
            var telecom = document.getElementsByName('telecom')[0];
            var phoneNumber = document.getElementsByName('phoneNumber')[0];
            var userId = document.getElementsByName('userId')[0];
            var userPw = document.getElementsByName('userPw')[0];
            var userPwRe = document.getElementsByName('userPwRe')[0];
            var allCorrect = document.getElementsByName('allCorrect')[0];
            var userAgree = document.getElementsByName('agree');

            if (userName.value == "" || userName.value == null || userName.value.length < 2) {
                //userName 값이 비어있거나, null이거나, 2글자보다 작으면
                alert("이름을 입력해주세요. 이름 입력란으로 이동합니다.");
                userName.focus();
                return false;
            }
            if (birth.value == "" || birth.value == null) {
                //birth 값이 비어있거나, null이면
                alert("생년월일을 입력해주세요.");
                birth.focus();
                return false;
            }
            if (birth.value.length < 8) {
                //birth 값이 8글자보다 작으면
                alert("생년월일을 올바르게 입력해주세요. 생년월일 입력란으로 이동합니다.");
                birth.focus();
                return false;
            }
            if (telecom.value == "" || telecom.value == null) {
                //telecom 값이 비어있거나, null이면
                alert("통신사를 선택해주세요.")
                return false;
            }
            if (phoneNumber.value == "" || phoneNumber.value == null) {
                //phoneNumber값이 비어있거나, null이면
                alert("휴대폰 번호를 입력해주세요. 휴대폰 번호 입력란으로 이동합니다.");
                phoneNumber.focus();
                return false;
            }
            if (phoneNumber.value.length <= 10) {
                //phoneNumber 값이 10글자 이하일 때
                alert("휴대폰 번호가 바르지 않습니다. 다시 입력해주세요.");
                phoneNumber.focus();
                return false;
            }
            if (userId.value == "" || userId.value == null) {
                //userId 값이 비어있거나, null이면
                alert("아이디를 입력해주세요");
                userId.focus();
                return false;
            }
            if (userId.value.length < 4) {
                //userId 값이 4글자 보다 작으면
                alert("아이디는 4~12자로 설정해주세요");
                userId.focus();
                return false;
            }
            if (userPw.value == "" || userPw.value == null) {
                //userPw값이 비어있거나, null이면
                alert("비밀번호를 입력해주세요");
                userPw.focus();
                return false;
            }
            if (userPw.value.length < 6) {
                //userPw값이 6글자보다 작으면
                alert("비밀번호는 6~16자로 설정해주세요");
                userPw.focus();
                return false;
            }
            if (userPwRe.value == "" || userPwRe.value == null) {
                //userPwRe 값이 비어있거나 null이면
                alert("비밀번호 확인창을 입력해주세요");
                userPwRe.focus();
                return false;
            }
            if (userPw.value != userPwRe.value) {
                //userPw 값과 userPwRe 값이 같지 않으면
                alert("비밀번호 확인 오류. 다시 입력해주세요");
                userPwRe.focus();
                return false;
            }
            //필수 약관 동의 체크
            if (userAgree[0].checked == false) {
                //첫번째 필수 약관 동의 체크가 안되어있을 때
                alert('필수 및 전체 약관을 선택해주세요.');
                userAgree[0].focus();
                return false;
            }
            if (userAgree[1].checked == false) {
                //두번째 필수 약관 동의 체크가 안되어있을 때
                alert('필수 및 전체 약관을 선택해주세요.');
                userAgree[1].focus();
                return false;
            }
            //위의 조건이 해당되지 않을 때 본인인증창으로 이동 & submit
            alert("본인인증창으로 이동");
            var joinForm = document.getElementsByName('joinForm');
            joinForm.submit();
        }
    </script>


</body>

</html>